<!DOCTYPE html>

<html lang="en">
    <head>
        <title> Loan Calculator </title>
        <meta charset="utf-8">
        <!--<link rel="stylesheet" href="css/home.css">-->
        <link rel="stylesheet" href="https://www.cssfontstack.com/Courier-New">
    </head>
    <body>
        <div class="navbar">
            <ul>
                <li> Buy </li>
                <li> Sale </li>
                <li> Loan </li>
                <li> About </li>
            </ul>
        </div>

        <div class="calculator" id="calculator">
            <p> Loan Amount: <input type="number" name="lAmount" id="lAmount"> $ </p>
            <p> Interest Rate: <input type="number" name="iRate" id="iRate"> % </p>
            <p> Loan Term: <input type="number" name="lTerm" id="lTerm"> Years </p>
            <p> Start Date: <input type="month" id="year" name="year" min="2011-01" value="2011-01">
            </p>
            <input type="submit" id="calc" name="calc" value="Calculate">
            <div id="output"></div>
        </div>
        <script>
            function Calculate() {
                var lAmt = parseInt(document.getElementById('lAmount').value);
                var iRt = parseFloat(document.getElementById('iRate').value);
                var lTrm = parseInt(document.getElementById('lTerm').value);
                var index = document.getElementById('year').selectedIndex;
                var start = 0;
                switch (index) {
                    case 0:
                        agefactor=.08;
                        break;
                    case 1:
                        agefactor=.09;
                        break;
                    case 2:
                        agefactor=.11;
                        break;
                    case 3:
                        agefactor=.17;
                        break;
                }
                var MIR = iRt/12;
                var MP = lAmt * (MIR)/Math.pow((1-(1+MIR),(-lTrm*12)));
                var IPM = lAmt * MIR;
                var PPM = MP - IPM;
                var outputlist = "<table>";
                for(var i=1; i<=lTrm; i++) {
                    outputlist += "<tr>";
                    for(var j=1; j<=lTrm; j++) {   
                        outputlist += "<td>";
                        outputlist += start;
                        outputlist += "</td>";
                    }
                    for(var j=1; j<=lTrm; j++) {   
                        outputlist += "<td>";
                        outputlist += MIR;
                        outputlist += "</td>";
                    }
                    for(var j=1; j<=lTrm; j++) {   
                        outputlist += "<td>";
                        outputlist += PPM;
                        outputlist += "</td>";
                    }
                    outputlist += "</tr>";
                }
                outputlist += "</table>"
                document.getElementById('output').innerHTML=outputlist;
            }
            document.getElementById('calc').addEventListener('click', Calculate, false);
        </script>
    </body>